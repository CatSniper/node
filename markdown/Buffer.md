## Buffer
Buffer是一个像Array的对象，但他主要用于操作字节。它的元素为16进制的两位数，即0-255的数值。
```js
let buf = new Buffer(100)
buf[10] = 100
console.log(buf[10]) // => 100
```
给元素的赋值小于0，就将值逐次加256，直到得到一个0到255之间的整数

给元素的赋值小于255，就将值逐次减256，直到得到一个0到255之间的整数

如果是小数，舍去小数部分，只保留整数部分
```js
buf[20] = -100
console.log(buf[20]) // => 156
buf[21] = 300
console.log(buf[21]) // => 44
buf[22] = 3.1415
console.log(buf[22]) // => 3
```
## Buffer内存分配
Node在内存的使用上应用的是在C++层面申请内存，在JavaScript中分配内存的策略。

为了高效的使用申请来的内存，Node采用了slab分配机制。slab是一种动态内存管理机制

Node以8kb为界限来区分Buffer是大对象还是小对象，这个8kb的值也就是每个slab的大小值

slab具有如下三种状态：
1. full 完全分配状态
2. partial 部分分配状态
3. empty 没有被分配状态

简单而言，真正的内存是在Node的C++层面提供的，JavaScript层面只是使用它，当进行小而频繁的Buffer操作时，采用slab的机制进行预先申请和事后分配，使得javascript到操作系统之间不必有过多的内存申请方面的系统调用。对于大块的Buffer而言，则直接使用C++层面提供的内存，而无需细腻的分配操作
## Buffer的转换
编码问题

## 总结
体验过JavaScript友好的字符串操作后，有些开发者可能形成思维定式，将Buffer当做字符串来理解。但字符串和Buffer之间有实质上的差异，即Buffer是二进制数据，字符串和Buffer之间存在编码关系。因此，理解Buffer的诸多细节十分必要，对于如何高效处理二进制数据十分有用